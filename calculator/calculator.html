<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>Bootstrap 101 Template</title>

        <!-- Bootstrap -->

        <!-- <script src="js/custom.js"></script> -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/calci.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<!-- author:Megha -->

<body>
        <div class="container">
                <div class="row">
                        <!-- Dummy first column for getting the calculator in center-->
                        <div class="col-xs-4 col-md-4"></div>

                        <!-- Second column of calci -->
                        <div class="col-xs-4 col-md-4 calci">

                                <!-- Main part of calci -->
                                <form name="calculator" onsubmit="calculate()">
                                        <!-- takes the input of user -->
                                        <div class="row calcup">
                                                <div class="col-md-12 input-style1">
                                                        <input type="text" placeholder="0" id="userinput" class="display1" />
                                                </div>
                                        </div>
                                        <!-- For displaying the output of operations -->
                                        <div class="row calcup">
                                                <div class="col-md-12 input-style">
                                                        <input type="text" id="displayoutput" class="display1" />
                                                </div>
                                        </div>
                                        <!-- First row in the calculator -->
                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box1" onclick="clr()">
                                                                <h3> AC</h3>
                                                        </button>
                                                </div>

                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="display('+/-')" onclick="clear()">
                                                                <h3> +/-</h3>
                                                        </button>
                                                </div>

                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box1" onclick="display('%')">
                                                                <h3> %</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="display('*')">
                                                                <h3> X</h3>
                                                        </button>
                                                </div>
                                        </div>
                                        <!-- Second row in calculator -->
                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display('7')">
                                                                <h3> 7</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box" onclick="display('8')">
                                                                <h3> 8</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display('9')">
                                                                <h3> 9</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="display('/')">
                                                                <h3> /</h3>
                                                        </button>
                                                </div>
                                        </div>
                                        <!-- Third row in calculator -->
                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display('4')">
                                                                <h3> 4</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display(5)">
                                                                <h3> 5</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display(6)">
                                                                <h3> 6</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="display('-')">
                                                                <h3> -</h3>
                                                        </button>
                                                </div>
                                        </div>
                                        <!-- Fourth row in calculator -->
                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display(1)">
                                                                <h3> 1</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display(2)">
                                                                <h3> 2</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display(3)">
                                                                <h3> 3</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box1" onclick="display('+')">
                                                                <h3> +</h3>
                                                        </button>
                                                </div>
                                        </div>
                                        <!-- Fifth row in calculator -->
                                        <div class="row bg-row">
                                                <div class="col-xs-6 col-md-6">
                                                        <button type="button" class="box" onclick="display('0')">
                                                                <h3> 0</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="display('.')">
                                                                <h3> .</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box2" onclick="operate()">
                                                                <h3>=</h3>
                                                        </button>
                                                </div>
                                        </div>
                                </form>
                        </div>
                        <!-- Dummy column 2 -->
                        <div class="col-xs-4 col-md-4"></div>
                </div>
        </div>

        <!-- java script starts -->
        <script>

                // For displaying the output on screen
                // desp:to display the elements on the screen
                function display(val) {
                        document.getElementById('userinput').value += val;
                        console.log(val);
                }

                //Performing the operations
                // desp:
                function operate() {
                        var userinput = document.getElementById('userinput').value;
                        var arr = [];
                        var usrarray = Array.from(userinput);
                        var temp;
                        var regularexp = /['.' '0''1''2''3''4''5''6'7''8''9''10']/;
                        var dummystore = '';
                        for (var p = 0; p < userinput.length; p++) {
                                if (usrarray[p].match(regularexp)) {
                                        dummystore += usrarray[p];
                                }

                                else {
                                        if (dummystore == '' && usrarray[p] == '-') {
                                                dummystore = '-';
                                        }
                                        else {
                                                arr.push(dummystore);
                                                arr.push(usrarray[p]);
                                                dummystore = '';
                                        }
                                }
                        }
                        arr.push(dummystore);
                        console.log(arr);
                        while (arr.length > 2) {
                                token1 = arr.shift();
                                token1 = parseFloat(token1);
                                token2 = arr.shift();
                                token3 = arr.shift();
                                token3 = parseFloat(token3);

                                switch (token2) {
                                        case '+': temp = token1 + token3;
                                                arr.unshift(temp);
                                                break;

                                        case '-': temp = token1 - token3;
                                                arr.unshift(temp);
                                                break;
                                        case '*': temp = token1 * token3;
                                                arr.unshift(temp);
                                                break;
                                        case '/': temp = token1 / token3;
                                                arr.unshift(temp);
                                                break;

                                        case '%': temp = token1 % token3;
                                                arr.unshift(temp);
                                                break;
                                }

                        }
                        document.getElementById('displayoutput').value = arr;
                }

                // function performed when you click on AC
                function clr() {
                        document.getElementById('displayoutput').value = "";
                        document.getElementById('userinput').value = "";
                }

        </script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
</body>

</html>